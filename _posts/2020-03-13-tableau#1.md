---
layout: post
title: ' Tableau에서 Rounded Bar chart 만들기'
category : [Tableau]
tag: [태블로 팁]
---

월간 보아즈 2월호 음압병상 대시보드에 들어간 **Rounded Bar chart** 를 만드는 법을 소개해드리려고 합니다!

![음압병상](https://drive.google.com/uc?id=1jdqgX1mT76j3RBk9fHRwyf0WcKo5iRkW)

제가 이 대시보드에 Rounded Bar chart 를 쓰게 된 이유는 그냥 막대 그래프를 넣었을 때 어색했던 대시보드가 둥글둥글한 느낌을 주니 다른 그래프들과 잘 어우러지는 느낌을 받았기 때문입니다!  
       
여러분들도 기존 막대그래프가 지겨우시거나 디자인적인 요소를 추가하고 싶으실 때 **Rounded bar chart** 를 사용해 보세요!    

과정은 생각보다 쉽습니다!

## 1. 전체 데이터셋을 똑같이 한번 더 복사한 뒤, path 행을 만들어 각각 1과 100을 넣어줍니다!
    
![1](https://drive.google.com/uc?id=131QWUto6sntfXLthW-c0eV9O8Ag8wshZ)

## 2. 태블로에서 파일을 불러온 뒤, 측정값에서 path 를 찾아 오른쪽 마우스 클릭! 만들기 -> **구간차원** 만들기 선택 !
    
![2](https://drive.google.com/uc?id=1NQCd-CDlf3KgDw7xzNrOJoN1IBeQ5rGr)

## 3. 구간차원 편집에서 구간차원 크기를 0.1 로 줄여줍니다! 

![3](https://drive.google.com/uc?id=1BEesrkPxUHebP259LHWL02-Q6O_JtR7r)

확인 버튼 눌러주면 끝입니다!     
우리가 path 를 1에서 100으로 설정했으니 밑의 값 범위는 변경할 수 없습니다!         
0.1로 굳이 할 필요는 없지만, Rounded bar chart가 만들어지는 원리를 알아보면 구간차원을 정말 좁혀서 원들이 촘촘히 모여 원기둥인 것처럼 보여지는 것이기 때문에 데이터가 넓게 퍼져있을수록 구간차원을 좁혀주시는게 좋습니다!       
어떤 데이터는 0.5 로도 원기둥처럼 보이기도 하지만, 어떤 데이터는 0.1 로 해줘야 원기둥처럼 보이더라구요!     
       
     
#### 여기서 잠깐! **구간차원**이란 무엇이냐!    

연속형인 측정값을 구간별로 나눠 일종의 구간별 차원을 만드는 것이라고 볼 수 있는데요!        
 
예를 들어 x 축을 수익 구간, y축을 고객 수로 하는 히스토그램 그래프 등을 그리고 싶을때,
수익 측정값의 구간차원을 100으로 설정해서 열 선반에 올리고, 고객명 고유 카운트를 행 선반에 올리면    
100-200 달러 구매 고객 몇명, 200-300달러 구매 고객 몇명, 300-400 달러 구매 고객 몇명 이런 식으로 히스토그램이 그려지겠죠?   

정리하면 결국 **구간차원** 이란 측정값을 구간별로 쪼개서 차원처럼 보이게 하는 것입니다!  

정말 중요한 차원과 측정값의 차이점에 대해서는 태블로 기초 포스팅에서 더 다루도록 하겠습니다~! 
     
## 4. 계산된 필드 'INDEX' 생성하기 

여러분은 [병상수] 대신 그래프로 표현하고 싶은 값을 넣어주시면 됩니다! 
![7](https://drive.google.com/uc?id=1_KUhYy_JXegwL5xqPLAvthiAbShCxeof)
   

## 5. path 구간 차원을 마크 박스의 세부 정보에 넣어주기 

## 6. INDEX 계산된 필드를 열 선반에 넣고, 마크 유형을 원으로 바꿔주기!

그러면 이런 뷰가 완성되겠죠?!    
![8](https://drive.google.com/uc?id=1AYUXLa2iPnv8wO7X1I8goprusvT0Q4VF)

## 7. INDEX 오른쪽 마우스 클릭 ->  다음을 사용하여 계산 -> path(구간차원) 선택! 

![9](https://drive.google.com/uc?id=1-FkOfB9p9XAyEPJGEJgH7ag6veJ97PFr)

## 8. (정말중요) path 구간차원의 누락된 값 표시 해주기! 

이 단계를 거치지 않으면 원 두개만 덩그러니 있는 형상이 됩니다!
이거를 하기 위해서는 잠시 path 구간차원을 열 선반 또는 행 선반에 넣어준 다음 오른쪽 마우스 클릭 -> 누락된 값 표시를 선택해 주셔야 합니다!
그 뒤에 다시 원래 있던 세부정보 자리로 되돌려 놓으면 됩니다!

## 9. 행 선반에 측정값 이름 또는 차원 넣어주기 

무슨 소리인지 이해가 안 가실 수도 있으니 데이터 셋 예시를 들어 설명해드릴게요!

먼저 첫번째, 각각의 측정값을 나타내고 싶은 경우 입니다.    
      
아래 데이터셋처럼 **측정값 각각**이 하나의 컬럼으로 이루어져 있는 경우입니다!       
즉, 확진자 수와 병상 수라는 각각의 측정값을 막대그래프로 나타내고 싶은 경우를 고려해 봅시다.

![4](https://drive.google.com/uc?id=1LfZJs_F7BRt_7pPlRwpcHKkJhFC0CmTs)      
   
이런 경우 아래 사진처럼 측정값을 열에, 측정값 이름을 행에 넣어주시면 됩니다!      
측정값을 열에 동시에 넣는 방법은, 처음에 한 측정값만 열에 넣었다가 또 다른 하나의 측정값을 그래프 위로 끌고 와서 열 자리에 넣어주면 저렇게 측정값 두개가 동시에 들어가게 됩니다!     
![5](https://drive.google.com/uc?id=1tQ8Ha_1jyyTPC4X59zR7-N5J9uiIAQWC)
 
다음으로 두번째, **차원별 측정값**을 나타내고 싶은 경우 입니다.
         
예를 들어 아래와 같은 데이터셋에서 카테고리 별 할인율을 막대 그래프로 나타내고 싶은 경우를 고려해 봅시다.
![6](https://drive.google.com/uc?id=1UtpwLJpYyU08BzCF9vyVAFP_1V3N5peD)     

이런 경우 아래 사진처럼 차원을 행에, 측정값을 열에 넣어주시면 됩니다.
![7](https://drive.google.com/uc?id=1lpNlkpwpM9oCotsrtiA9i48OkhiN2rFy)   


## 10. 색상에 측정값 이름 또는 차원 넣어주기! 

![8](https://drive.google.com/uc?id=1_-ZFVNaxGlPbJ_ykirCPuD2rUO1UCyyI)

Rounded Bar Chart 만들기 끝!
  
하지만 이 차트의 단점은 구간차원을 사용했기 때문에 끝에 레이블 텍스트를 달아주기가 번거롭다는 점입니다.
그래서 저는 꼼수로 똑같은 데이터의 막대그래프를 만들어준 뒤, 그래프 투명도를 100%로 해서 안보이게 해놓고 텍스트만 보이게 해놓은 채로 
라운디드 바 차트 위에 얹어서 텍스트도 그래프의 길이에 따라 같이 움직이게 해줬습니다! 

만약 더 좋은 방법이 있다면 공유해주시면 감사하겠습니다~!

## 완성본 첨부파일 

[구글 드라이브 링크](https://drive.google.com/open?id=1Z16dRrbEEcRcZ0f-NjvnzZidrzKdcHOZ)


재미있게 보셨다면 댓글 부탁드려요 ^0^

   
